# Test info

- Name: Authentication and User Flows >> 1. User can sign up for a new account
- Location: D:\W123-project\tests\auth.spec.ts:14:3

# Error details

```
Error: Timed out 5000ms waiting for expect(locator).toBeVisible()

Locator: getByTestId('auth-modal').getByRole('heading', { name: 'ÄÄƒng nháº­p vÃ o Yapee' })
Expected: visible
Received: <element(s) not found>
Call log:
  - expect.toBeVisible with timeout 5000ms
  - waiting for getByTestId('auth-modal').getByRole('heading', { name: 'ÄÄƒng nháº­p vÃ o Yapee' })

    at D:\W123-project\tests\auth.spec.ts:21:79
```

# Page snapshot

```yaml
- region "Notifications alt+T"
- banner:
  - button "Y Yapee"
  - textbox "TÃ¬m kiáº¿m sáº£n pháº©m..."
  - img
  - button "TÃ¬m"
  - button "ğŸŒŸ Poster"
  - button:
    - img
  - button "ÄÄƒng nháº­p":
    - img
    - text: ÄÄƒng nháº­p
- heading "ÄÄƒng nháº­p" [level=2]
- button:
  - img
- textbox "Email"
- textbox "Máº­t kháº©u"
- button "QuÃªn máº­t kháº©u?"
- button "ÄÄƒng nháº­p"
- text: ChÆ°a cÃ³ tÃ i khoáº£n?
- button "ÄÄƒng kÃ½ ngay"
- separator
- text: hoáº·c
- separator
- button "ÄÄƒng nháº­p khÃ¡ch"
- main:
  - heading "ğŸ‰ ChÃ o má»«ng Ä‘áº¿n ShopVN" [level=1]
  - paragraph: ğŸ›ï¸ KhÃ¡m phÃ¡ hÃ ng triá»‡u sáº£n pháº©m cháº¥t lÆ°á»£ng cao vá»›i giÃ¡ tá»‘t nháº¥t thá»‹ trÆ°á»ng!
  - text: ğŸšš Giao hÃ ng nhanh Miá»…n phÃ­ ship ğŸ’ Cháº¥t lÆ°á»£ng cao HÃ ng chÃ­nh hÃ£ng ğŸ Æ¯u Ä‘áº¡i khá»§ng Giáº£m Ä‘áº¿n 70%
  - button "ğŸ›’ Mua ngay"
  - button "âœ¨ Xem sáº£n pháº©m ná»•i báº­t"
  - text: 1M+ KhÃ¡ch hÃ ng 100K+ Sáº£n pháº©m 4.8â­ ÄÃ¡nh giÃ¡
  - heading "ğŸ·ï¸ Danh Má»¥c Sáº£n Pháº©m" [level=2]
  - paragraph: KhÃ¡m phÃ¡ cÃ¡c danh má»¥c sáº£n pháº©m Ä‘a dáº¡ng
  - button "ğŸ“± Äiá»‡n tá»­ Thiáº¿t bá»‹ Ä‘iá»‡n tá»­, cÃ´ng nghá»‡":
    - text: ğŸ“±
    - heading "Äiá»‡n tá»­" [level=3]
    - paragraph: Thiáº¿t bá»‹ Ä‘iá»‡n tá»­, cÃ´ng nghá»‡
  - button "ğŸ‘• Thá»i trang Quáº§n Ã¡o, phá»¥ kiá»‡n thá»i trang":
    - text: ğŸ‘•
    - heading "Thá»i trang" [level=3]
    - paragraph: Quáº§n Ã¡o, phá»¥ kiá»‡n thá»i trang
  - button "ğŸ  Gia dá»¥ng Äá»“ gia dá»¥ng, ná»™i tháº¥t":
    - text: ğŸ 
    - heading "Gia dá»¥ng" [level=3]
    - paragraph: Äá»“ gia dá»¥ng, ná»™i tháº¥t
  - heading "ğŸ”¥ KHUYáº¾N MÃƒI HOT ğŸ”¥" [level=3]
  - paragraph: Giáº£m giÃ¡ lÃªn Ä‘áº¿n 70% cho táº¥t cáº£ danh má»¥c!
  - button "Mua Ngay ğŸ›’"
  - text: ğŸ’¥ âš¡ ğŸ‰ ğŸ âš¡
  - heading "Flash Sale" [level=2]
  - paragraph: Giáº£m giÃ¡ sá»‘c trong thá»i gian cÃ³ háº¡n
  - text: "107 Giá» : 41 PhÃºt : 52 GiÃ¢y"
  - img "iPhone 15 Pro Max"
  - text: "-9% âš¡ FLASH"
  - button "ThÃªm iPhone 15 Pro Max vÃ o giá» hÃ ng":
    - img
  - heading "iPhone 15 Pro Max" [level=3]
  - text: â­ â­ â­ â­ â­ (156) 29.990.000Ä‘ 32.990.000Ä‘
  - img "Ná»“i CÆ¡m Äiá»‡n Cao Cáº¥p"
  - text: "-17% âš¡ FLASH"
  - button "ThÃªm Ná»“i CÆ¡m Äiá»‡n Cao Cáº¥p vÃ o giá» hÃ ng":
    - img
  - heading "Ná»“i CÆ¡m Äiá»‡n Cao Cáº¥p" [level=3]
  - text: â­ â­ â­ â­ â­ (67) 2.490.000Ä‘ 2.990.000Ä‘
  - img "Tai Nghe Bluetooth Premium"
  - text: "-20% âš¡ FLASH"
  - button "ThÃªm Tai Nghe Bluetooth Premium vÃ o giá» hÃ ng":
    - img
  - heading "Tai Nghe Bluetooth Premium" [level=3]
  - text: â­ â­ â­ â­ â­ (123) 1.990.000Ä‘ 2.490.000Ä‘
  - button "Xem táº¥t cáº£":
    - text: Xem táº¥t cáº£
    - img
  - heading "Sáº£n pháº©m ná»•i báº­t" [level=2]
  - paragraph: Nhá»¯ng sáº£n pháº©m Ä‘Æ°á»£c yÃªu thÃ­ch nháº¥t
  - img "MacBook Air M3"
  - text: "-7%"
  - button "ThÃªm MacBook Air M3 vÃ o giá» hÃ ng":
    - img
  - heading "MacBook Air M3" [level=3]
  - text: â­ â­ â­ â­ â­ (89) 27.990.000Ä‘ 29.990.000Ä‘
  - 'img "SÃ¡ch: Äáº¯c NhÃ¢n TÃ¢m"'
  - text: "-26%"
  - 'button "ThÃªm SÃ¡ch: Äáº¯c NhÃ¢n TÃ¢m vÃ o giá» hÃ ng"':
    - img
  - 'heading "SÃ¡ch: Äáº¯c NhÃ¢n TÃ¢m" [level=3]'
  - text: â­ â­ â­ â­ â­ (567) 89.000Ä‘ 120.000Ä‘
  - img "iPhone 15 Pro Max"
  - text: "-9% âš¡ FLASH"
  - button "ThÃªm iPhone 15 Pro Max vÃ o giá» hÃ ng":
    - img
  - heading "iPhone 15 Pro Max" [level=3]
  - text: â­ â­ â­ â­ â­ (156) 29.990.000Ä‘ 32.990.000Ä‘
  - img "MÃ¡y Pha CÃ  PhÃª Espresso"
  - button "ThÃªm MÃ¡y Pha CÃ  PhÃª Espresso vÃ o giá» hÃ ng":
    - img
  - heading "MÃ¡y Pha CÃ  PhÃª Espresso" [level=3]
  - text: â­ â­ â­ â­ â­ (45) 3.990.000Ä‘
  - img "BÃºt Bi Cao Cáº¥p Parker"
  - button "ThÃªm BÃºt Bi Cao Cáº¥p Parker vÃ o giá» hÃ ng":
    - img
  - heading "BÃºt Bi Cao Cáº¥p Parker" [level=3]
  - text: â­ â­ â­ â­ â­ (34) 450.000Ä‘
  - img "Ná»“i CÆ¡m Äiá»‡n Cao Cáº¥p"
  - text: "-17% âš¡ FLASH"
  - button "ThÃªm Ná»“i CÆ¡m Äiá»‡n Cao Cáº¥p vÃ o giá» hÃ ng":
    - img
  - heading "Ná»“i CÆ¡m Äiá»‡n Cao Cáº¥p" [level=3]
  - text: â­ â­ â­ â­ â­ (67) 2.490.000Ä‘ 2.990.000Ä‘
  - img "Tai Nghe Bluetooth Premium"
  - text: "-20% âš¡ FLASH"
  - button "ThÃªm Tai Nghe Bluetooth Premium vÃ o giá» hÃ ng":
    - img
  - heading "Tai Nghe Bluetooth Premium" [level=3]
  - text: â­ â­ â­ â­ â­ (123) 1.990.000Ä‘ 2.490.000Ä‘
  - img "GiÃ y Sneaker Unisex"
  - text: "-25%"
  - button "ThÃªm GiÃ y Sneaker Unisex vÃ o giá» hÃ ng":
    - img
  - heading "GiÃ y Sneaker Unisex" [level=3]
  - text: â­ â­ â­ â­ â­ (178) 899.000Ä‘ 1.199.000Ä‘
- contentinfo:
  - text: ğŸ›ï¸ Yapee
  - paragraph: Yapee cung cáº¥p cÃ¡c sáº£n pháº©m cháº¥t lÆ°á»£ng cao vá»›i giÃ¡ cáº£ pháº£i chÄƒng. ChÃºng tÃ´i cam káº¿t mang Ä‘áº¿n tráº£i nghiá»‡m mua sáº¯m tá»‘t nháº¥t cho khÃ¡ch hÃ ng.
  - link "ğŸ“˜":
    - /url: "#"
  - link "ğŸ“·":
    - /url: "#"
  - link "ğŸ¦":
    - /url: "#"
  - heading "ChÄƒm sÃ³c khÃ¡ch hÃ ng" [level=3]
  - list:
    - listitem:
      - link "Trung tÃ¢m trá»£ giÃºp":
        - /url: "#"
    - listitem:
      - link "LiÃªn há»‡":
        - /url: "#"
    - listitem:
      - link "HÆ°á»›ng dáº«n mua hÃ ng":
        - /url: "#"
    - listitem:
      - link "ChÃ­nh sÃ¡ch Ä‘á»•i tráº£":
        - /url: "#"
  - heading "Vá» Yapee" [level=3]
  - list:
    - listitem:
      - link "Giá»›i thiá»‡u":
        - /url: "javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')"
    - listitem:
      - link "ChÃ­nh sÃ¡ch báº£o máº­t":
        - /url: "#"
    - listitem:
      - link "Äiá»u khoáº£n sá»­ dá»¥ng":
        - /url: "#"
    - listitem:
      - link "CÃ¢u há»i thÆ°á»ng gáº·p":
        - /url: "javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')"
  - heading "ThÃ´ng tin liÃªn há»‡" [level=3]
  - list:
    - listitem: ğŸ“ 74 Ä‘Æ°á»ng sá»‘ 13, PhÆ°á»ng BÃ¬nh Trá»‹ ÄÃ´ng B, quáº­n BÃ¬nh TÃ¢n, TP. Há»“ ChÃ­ Minh
    - listitem: ğŸ“ 0333.938.014
    - listitem: âœ‰ï¸ cskh@yapee.vn
    - listitem: ğŸ•’ 8h00 - 19h00, Thá»© Hai - Chá»§ Nháº­t
  - paragraph: Â© 2024 Yapee. Táº¥t cáº£ quyá»n Ä‘Æ°á»£c báº£o lÆ°u.
```

# Test source

```ts
   1 | import { test, expect } from "@playwright/test";
   2 |
   3 | test.describe.serial("Authentication and User Flows", () => {
   4 |   const userEmail = `testuser_${Date.now()}@example.com`;
   5 |   const userPassword = "password123";
   6 |
   7 |   // URL cá»§a trang web, máº·c Ä‘á»‹nh lÃ  localhost cá»§a Vite
   8 |   const appUrl = "http://localhost:5173";
   9 |
   10 |   test.beforeEach(async ({ page }) => {
   11 |     await page.goto(appUrl);
   12 |   });
   13 |
   14 |   test("1. User can sign up for a new account", async ({ page }) => {
   15 |     // Má»Ÿ modal Ä‘Äƒng nháº­p/Ä‘Äƒng kÃ½
   16 |     await page.getByRole('button', { name: 'ÄÄƒng nháº­p' }).click();
   17 |     
   18 |     // Chá» modal xuáº¥t hiá»‡n vÃ  xÃ¡c minh tiÃªu Ä‘á», sá»­ dá»¥ng data-testid
   19 |     const modal = page.getByTestId('auth-modal');
   20 |     await expect(modal).toBeVisible();
>  21 |     await expect(modal.getByRole("heading", { name: "ÄÄƒng nháº­p vÃ o Yapee" })).toBeVisible();
      |                                                                               ^ Error: Timed out 5000ms waiting for expect(locator).toBeVisible()
   22 |
   23 |     // Chuyá»ƒn sang biá»ƒu máº«u Ä‘Äƒng kÃ½
   24 |     await modal.getByRole("button", { name: "ÄÄƒng kÃ½ ngay" }).click();
   25 |
   26 |     // Äiá»n thÃ´ng tin Ä‘Äƒng kÃ½
   27 |     await modal.getByPlaceholder("Email").fill(userEmail);
   28 |     await modal.getByPlaceholder("Máº­t kháº©u").fill(userPassword);
   29 |
   30 |     // Gá»­i biá»ƒu máº«u Ä‘Äƒng kÃ½
   31 |     await modal.getByRole("button", { name: "ÄÄƒng kÃ½" }).click();
   32 |
   33 |     // XÃ¡c minh ráº±ng modal Ä‘Ã£ Ä‘Ã³ng vÃ  ngÆ°á»i dÃ¹ng Ä‘Ã£ Ä‘Äƒng nháº­p thÃ nh cÃ´ng
   34 |     await expect(modal).not.toBeVisible();
   35 |     await expect(page.getByRole("button", { name: "TÃ i khoáº£n" })).toBeVisible();
   36 |     
   37 |     // Äiá»u hÆ°á»›ng Ä‘áº¿n trang tÃ i khoáº£n Ä‘á»ƒ kiá»ƒm tra chi tiáº¿t
   38 |     await page.getByRole("button", { name: "TÃ i khoáº£n" }).click();
   39 |     await expect(page.getByRole("heading", { name: "ThÃ´ng tin tÃ i khoáº£n" })).toBeVisible();
   40 |     await expect(page.getByText(userEmail)).toBeVisible();
   41 |   });
   42 |
   43 |   test("2. User can sign out", async ({ page }) => {
   44 |     // Test nÃ y giáº£ Ä‘á»‹nh ngÆ°á»i dÃ¹ng Ä‘Ã£ Ä‘Äƒng nháº­p tá»« test trÆ°á»›c
   45 |     // Chá» trang tÃ i khoáº£n táº£i xong sau khi Ä‘Äƒng kÃ½
   46 |     await page.waitForURL(`${appUrl}/account`);
   47 |     await expect(page.getByRole("heading", { name: "TÃ i khoáº£n" })).toBeVisible();
   48 |     
   49 |     // TÃ¬m vÃ  nháº¥p vÃ o nÃºt ÄÄƒng xuáº¥t
   50 |     await page.getByRole("button", { name: "Sign out" }).click();
   51 |
   52 |     // XÃ¡c minh ráº±ng ngÆ°á»i dÃ¹ng Ä‘Ã£ Ä‘Äƒng xuáº¥t
   53 |     // NÃºt "TÃ i khoáº£n" sáº½ Ä‘á»•i thÃ nh "ÄÄƒng nháº­p"
   54 |     await expect(page.getByRole("button", { name: "ÄÄƒng nháº­p" })).toBeVisible();
   55 |     await expect(page.getByRole("button", { name: "TÃ i khoáº£n" })).not.toBeVisible();
   56 |
   57 |     // Thá»­ má»Ÿ modal Ä‘Äƒng nháº­p
   58 |     await page.getByRole("button", { name: "ÄÄƒng nháº­p" }).click();
   59 |     const modal = page.getByTestId('auth-modal');
   60 |     await expect(modal).toBeVisible();
   61 |     await expect(modal.getByRole("heading", { name: "ÄÄƒng nháº­p vÃ o Yapee" })).toBeVisible();
   62 |   });
   63 |
   64 |   test("3. User can sign in", async ({ page }) => {
   65 |     // Test nÃ y giáº£ Ä‘á»‹nh ngÆ°á»i dÃ¹ng Ä‘Ã£ Ä‘Æ°á»£c táº¡o vÃ  Ä‘Äƒng xuáº¥t tá»« cÃ¡c test trÆ°á»›c
   66 |      
   67 |     // Má»Ÿ modal Ä‘Äƒng nháº­p
   68 |     await page.getByRole('button', { name: 'ÄÄƒng nháº­p' }).click();
   69 |     const modal = page.getByTestId('auth-modal');
   70 |     await expect(modal).toBeVisible();
   71 |     await expect(modal.getByRole("heading", { name: "ÄÄƒng nháº­p vÃ o Yapee" })).toBeVisible();
   72 |
   73 |     // Äiá»n thÃ´ng tin Ä‘Äƒng nháº­p
   74 |     await modal.getByPlaceholder("Email").fill(userEmail);
   75 |     await modal.getByPlaceholder("Máº­t kháº©u").fill(userPassword);
   76 |
   77 |     // Gá»­i biá»ƒu máº«u Ä‘Äƒng nháº­p (nÃºt bÃªn trong modal)
   78 |     await modal.getByRole("button", { name: "ÄÄƒng nháº­p" }).click();
   79 |
   80 |     // XÃ¡c minh Ä‘Äƒng nháº­p thÃ nh cÃ´ng vÃ  modal Ä‘Ã£ Ä‘Ã³ng
   81 |     await expect(modal).not.toBeVisible();
   82 |     await expect(page.getByRole("button", { name: "TÃ i khoáº£n" })).toBeVisible();
   83 |   });
   84 |
   85 |   test("4. User can view account information and order history", async ({ page }) => {
   86 |     // Test nÃ y giáº£ Ä‘á»‹nh ngÆ°á»i dÃ¹ng Ä‘Ã£ Ä‘Äƒng nháº­p tá»« test trÆ°á»›c
   87 |     
   88 |     // Äiá»u hÆ°á»›ng Ä‘áº¿n trang tÃ i khoáº£n
   89 |     await page.getByRole("button", { name: "TÃ i khoáº£n" }).click();
   90 |     await expect(page.getByRole("heading", { name: "TÃ i khoáº£n" })).toBeVisible();
   91 |
   92 |     // 1. XÃ¡c minh tab "ThÃ´ng tin tÃ i khoáº£n"
   93 |     await expect(page.getByRole("heading", { name: "ThÃ´ng tin tÃ i khoáº£n" })).toBeVisible();
   94 |     await expect(page.getByText(userEmail)).toBeVisible();
   95 |
   96 |     // 2. Chuyá»ƒn sang tab "Lá»‹ch sá»­ Ä‘Æ¡n hÃ ng"
   97 |     await page.getByRole("button", { name: /ÄÆ¡n hÃ ng/ }).click();
   98 |
   99 |     // 3. XÃ¡c minh ná»™i dung tab "Lá»‹ch sá»­ Ä‘Æ¡n hÃ ng"
  100 |     await expect(page.getByRole("heading", { name: "Lá»‹ch sá»­ Ä‘Æ¡n hÃ ng" })).toBeVisible();
  101 |     await expect(page.getByText("Báº¡n chÆ°a cÃ³ Ä‘Æ¡n hÃ ng nÃ o")).toBeVisible();
  102 |   });
  103 | }); 
```